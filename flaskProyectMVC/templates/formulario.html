
{%extends 'plantilla.html'%}

    {%block body%}
<div class="row"> 
    
    <div class="col-md-5"><!--columna de 5 espacios -->
            <h2 class="display-4 text-primary mt-5 mb-5"> Vista del formulario </h2>
    <a href="/consulta"> Abrir vista de consulta </a>

        {% with mensajes= get_flashed_messages()%}
            {% if mensajes%}
                {% for msj in mensajes %}
                    <h4 style="color: blue;">{{ msj }}</h4>
                {% endfor%}
            {% endif%}
        {% endwith%}

    <form action="/guardarAlbum" method="post">

        <div class="mb-3">
        <input type="text" class="from-control" name="txtTitulo" placeholder="Titulo" value="{{ request.form.txtTitulo}}">

        {% if errores and errores.txtTitulo%}
                <p style="color:red">{{ errores.txtTitulo }}</p>
        {% endif%}
        </div>

        <div class="mb-3">
        <input type="text" class="from-control" name="txtArtista" placeholder="Artista" value="{{ request.form.txtArtista}}">

        {% if errores and errores.txtArtista%}
                <p style="color:red">{{ errores.txtArtista }}</p>
        {% endif%}
        </div>

        <div class="mb-3">
        <input type="number" class="from-control" name="txtAnio" placeholder="Año de publicación" value="{{ request.form.txtAnio}}">

        {% if errores and errores.txtAnio%}
                <p style="color:red">{{ errores.txtAnio }}</p>
        {% endif%}    
        </div>


        <div class="d-grid gap-2">
        <button type="submit" class="btn btn-success"> Guardar Album </button>
        </div>

    </form>
    </div> <!--columna de 5 espacios -->


    <div class="col-md-7"> <!--columna de 7 espacios -->
        <table>
        <thead>
            <tr>
                    <td> ID:</td>
                    <td> Album:</td>
            </tr>
        </thead>


        <tbody>

            {%for alb in albums%}
            <tr>
                <td>{{ alb.0}}</td>
                <td> <a href="/detalles/{{alb.0}}">{{ alb.1}}</a></td>
            </tr>
            {%endfor%}

        </tbody>
    </table>

    </div> <!--columna de 7 espacios -->

    
</div>

    {%endblock%}